{
  "metadata": {
    "description": "Примеры ответов от популярных API для тестирования и обучения",
    "created_at": "2025-09-04T16:00:00Z",
    "version": "1.0",
    "chapter": "18 - Работа с API",
    "usage": "Используйте эти данные для тестирования когда реальные API недоступны"
  },
  
  "weather_samples": [
    {
      "city": "Moscow",
      "country": "RU", 
      "temperature": 15.5,
      "feels_like": 13.2,
      "humidity": 65,
      "pressure": 1013.2,
      "description": "ясно",
      "main": "Clear",
      "wind_speed": 3.2,
      "wind_direction": 180,
      "cloudiness": 10,
      "visibility": 10.0,
      "sunrise": "2025-09-04T03:45:00Z",
      "sunset": "2025-09-04T18:30:00Z",
      "collected_at": "2025-09-04T16:00:00Z"
    },
    {
      "city": "Saint Petersburg",
      "country": "RU",
      "temperature": 12.3,
      "feels_like": 10.8,
      "humidity": 72,
      "pressure": 1015.8,
      "description": "небольшой дождь",
      "main": "Rain",
      "wind_speed": 4.1,
      "wind_direction": 225,
      "cloudiness": 85,
      "visibility": 8.5,
      "sunrise": "2025-09-04T03:20:00Z",
      "sunset": "2025-09-04T18:10:00Z", 
      "collected_at": "2025-09-04T16:01:00Z"
    },
    {
      "city": "Novosibirsk",
      "country": "RU",
      "temperature": 8.7,
      "feels_like": 6.2,
      "humidity": 58,
      "pressure": 1020.1,
      "description": "облачно с прояснениями",
      "main": "Clouds",
      "wind_speed": 2.8,
      "wind_direction": 90,
      "cloudiness": 60,
      "visibility": 10.0,
      "sunrise": "2025-09-04T01:15:00Z",
      "sunset": "2025-09-04T13:45:00Z",
      "collected_at": "2025-09-04T16:02:00Z"
    },
    {
      "city": "London",
      "country": "GB",
      "temperature": 18.9,
      "feels_like": 19.1,
      "humidity": 78,
      "pressure": 1008.5,
      "description": "туман",
      "main": "Mist",
      "wind_speed": 1.5,
      "wind_direction": 270,
      "cloudiness": 90,
      "visibility": 5.0,
      "sunrise": "2025-09-04T05:15:00Z",
      "sunset": "2025-09-04T18:45:00Z",
      "collected_at": "2025-09-04T16:03:00Z"
    },
    {
      "city": "New York",
      "country": "US",
      "temperature": 22.4,
      "feels_like": 24.1,
      "humidity": 68,
      "pressure": 1012.3,
      "description": "переменная облачность",
      "main": "Clouds",
      "wind_speed": 3.7,
      "wind_direction": 135,
      "cloudiness": 40,
      "visibility": 10.0,
      "sunrise": "2025-09-04T10:20:00Z",
      "sunset": "2025-09-04T23:15:00Z",
      "collected_at": "2025-09-04T16:04:00Z"
    }
  ],
  
  "currency_samples": {
    "base": "USD",
    "date": "2025-09-04",
    "rates": {
      "RUB": 91.2547,
      "EUR": 0.8421,
      "GBP": 0.7324,
      "JPY": 148.7523,
      "CNY": 7.2841,
      "CAD": 1.3567,
      "AUD": 1.4892,
      "CHF": 0.8654,
      "SEK": 10.4321,
      "NOK": 10.9876,
      "KRW": 1342.56,
      "INR": 83.4521,
      "BRL": 5.4892,
      "MXN": 17.8754
    },
    "collected_at": "2025-09-04T16:00:00Z"
  },
  
  "user_activity_samples": [
    {
      "userId": 1,
      "name": "Leanne Graham",
      "username": "Bret",
      "email": "Sincere@april.biz",
      "city": "Gwenborough",
      "posts_count": 10,
      "avg_title_length": 45.2,
      "avg_body_length": 287.5,
      "activity_score": 8.5
    },
    {
      "userId": 2,
      "name": "Ervin Howell", 
      "username": "Antonette",
      "email": "Shanna@melissa.tv",
      "city": "Wisokyburgh",
      "posts_count": 10,
      "avg_title_length": 52.1,
      "avg_body_length": 301.2,
      "activity_score": 9.1
    },
    {
      "userId": 3,
      "name": "Clementine Bauch",
      "username": "Samantha",
      "email": "Nathan@yesenia.net", 
      "city": "McKenziehaven",
      "posts_count": 10,
      "avg_title_length": 38.7,
      "avg_body_length": 256.8,
      "activity_score": 7.8
    },
    {
      "userId": 4,
      "name": "Patricia Lebsack",
      "username": "Karianne",
      "email": "Julianne.OConner@kory.org",
      "city": "South Elvis", 
      "posts_count": 10,
      "avg_title_length": 49.3,
      "avg_body_length": 312.4,
      "activity_score": 8.9
    },
    {
      "userId": 5,
      "name": "Chelsey Dietrich",
      "username": "Kamren",
      "email": "Lucio_Hettinger@annie.ca",
      "city": "Roscoeview",
      "posts_count": 10,
      "avg_title_length": 41.8,
      "avg_body_length": 278.9,
      "activity_score": 8.2
    }
  ],
  
  "exchange_rate_history": [
    {
      "date": "2025-09-04",
      "USD_RUB": 91.2547,
      "USD_EUR": 0.8421,
      "USD_GBP": 0.7324,
      "change_pct_day": {
        "RUB": 0.15,
        "EUR": -0.08,
        "GBP": 0.12
      }
    },
    {
      "date": "2025-09-03",
      "USD_RUB": 91.1179,
      "USD_EUR": 0.8428,
      "USD_GBP": 0.7315,
      "change_pct_day": {
        "RUB": -0.23,
        "EUR": 0.05,
        "GBP": -0.18
      }
    },
    {
      "date": "2025-09-02",
      "USD_RUB": 91.3267,
      "USD_EUR": 0.8424,
      "USD_GBP": 0.7328,
      "change_pct_day": {
        "RUB": 0.31,
        "EUR": -0.12,
        "GBP": 0.07
      }
    }
  ],
  
  "news_samples": [
    {
      "title": "Технологические компании показывают рост",
      "description": "Акции технологических компаний продолжают демонстрировать положительную динамику на фоне развития ИИ",
      "url": "https://example.com/tech-growth",
      "source": "Tech News",
      "published_at": "2025-09-04T15:30:00Z",
      "category": "technology"
    },
    {
      "title": "Новые тренды в аналитике данных",
      "description": "Эксперты обсуждают влияние машинного обучения на традиционную аналитику",
      "url": "https://example.com/data-analytics-trends",
      "source": "Analytics Today",
      "published_at": "2025-09-04T14:45:00Z",
      "category": "data-science"
    }
  ],
  
  "api_response_examples": {
    "successful_response": {
      "status": "success",
      "status_code": 200,
      "data": {
        "message": "Data retrieved successfully",
        "count": 5,
        "timestamp": "2025-09-04T16:00:00Z"
      }
    },
    "error_responses": {
      "unauthorized": {
        "status": "error", 
        "status_code": 401,
        "message": "Invalid API key",
        "error_code": "UNAUTHORIZED"
      },
      "not_found": {
        "status": "error",
        "status_code": 404, 
        "message": "Resource not found",
        "error_code": "NOT_FOUND"
      },
      "rate_limited": {
        "status": "error",
        "status_code": 429,
        "message": "Rate limit exceeded",
        "error_code": "RATE_LIMITED",
        "retry_after": 60
      },
      "server_error": {
        "status": "error",
        "status_code": 500,
        "message": "Internal server error",
        "error_code": "SERVER_ERROR"
      }
    }
  },
  
  "testing_scenarios": [
    {
      "scenario": "successful_weather_request",
      "description": "Успешное получение данных о погоде",
      "mock_response": {
        "status_code": 200,
        "data": "weather_samples[0]"
      }
    },
    {
      "scenario": "invalid_city_request", 
      "description": "Запрос погоды для несуществующего города",
      "mock_response": {
        "status_code": 404,
        "error": "city not found"
      }
    },
    {
      "scenario": "api_key_expired",
      "description": "Запрос с истекшим API ключом",
      "mock_response": {
        "status_code": 401,
        "error": "invalid api key"
      }
    },
    {
      "scenario": "rate_limit_exceeded",
      "description": "Превышение лимита запросов",
      "mock_response": {
        "status_code": 429,
        "error": "rate limit exceeded",
        "retry_after": 60
      }
    }
  ],
  
  "performance_metrics": {
    "response_times": {
      "weather_api": {
        "average_ms": 850,
        "min_ms": 250,
        "max_ms": 2100,
        "success_rate": 0.98
      },
      "currency_api": {
        "average_ms": 420,
        "min_ms": 180,
        "max_ms": 1200,
        "success_rate": 0.99
      },
      "jsonplaceholder_api": {
        "average_ms": 320,
        "min_ms": 120,
        "max_ms": 800,
        "success_rate": 1.0
      }
    },
    "daily_limits": {
      "openweathermap_free": 1000,
      "exchangerate_api_free": 1500,
      "jsonplaceholder": "unlimited"
    }
  },
  
  "common_api_patterns": {
    "pagination": {
      "example_request": "/api/users?page=2&limit=10",
      "example_response": {
        "data": "[...array of items...]",
        "pagination": {
          "current_page": 2,
          "total_pages": 15,
          "total_items": 150,
          "items_per_page": 10,
          "has_next": true,
          "has_prev": true
        }
      }
    },
    "filtering": {
      "example_request": "/api/posts?author_id=5&status=published&date_from=2025-09-01",
      "description": "Фильтрация по автору, статусу и дате"
    },
    "sorting": {
      "example_request": "/api/products?sort_by=price&order=desc",
      "description": "Сортировка по цене по убыванию"
    }
  },
  
  "usage_examples": {
    "python_requests": {
      "simple_get": "response = requests.get('https://api.example.com/data')",
      "with_headers": "response = requests.get(url, headers={'Authorization': 'Bearer token'})",
      "with_params": "response = requests.get(url, params={'q': 'search', 'limit': 10})",
      "post_json": "response = requests.post(url, json={'name': 'value'})"
    },
    "error_handling": {
      "status_check": "if response.status_code == 200: data = response.json()",
      "exception_handling": "try: response.raise_for_status() except requests.HTTPError as e: print(f'Error: {e}')"
    }
  },
  
  "best_practices": [
    "Всегда проверяйте статус код ответа",
    "Используйте timeout для предотвращения зависания",
    "Реализуйте retry логику для временных сбоев",
    "Кешируйте ответы для экономии лимитов API",
    "Логируйте все API запросы для отладки",
    "Храните API ключи в переменных окружения",
    "Соблюдайте лимиты запросов (Rate Limiting)",
    "Валидируйте структуру ответа перед использованием"
  ]
}